# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`duo_unix`](#duo_unix): Installs and configures Duo

#### Private Classes

* `duo_unix::apt`: Provides duo_unix for an apt-based environment (e.g. Debian/Ubuntu)
* `duo_unix::generic`: Provides usage-agnostic duo_unix functionality
* `duo_unix::login`: Provides duo_unix functionality for SSH via ForceCommand
* `duo_unix::pam`: Provides duo_unix functionality for SSH via PAM
* `duo_unix::yum`: Provides duo_unix for a yum-based environment (e.g. RHEL/CentOS)

## Classes

### `duo_unix`

Installs and configures Duo

* **See also**
  * https://duo.com/docs/duounix

#### Examples

##### Basic usage

```puppet
class { 'duo_unix':
  usage     => 'login',
  ikey      => 'YOUR-IKEY-VALUE',
  skey      => 'YOUR-SKEY-VALUE',
  host      => 'YOUR-HOST-VALUE',
  pushinfo  => 'yes'
}
```

#### Parameters

The following parameters are available in the `duo_unix` class.

##### `ikey`

Data type: `String[20]`

Sets the integration key

##### `skey`

Data type: `String[40]`

Sets the secret key

##### `host`

Data type: `Stdlib::Host`

Sets the Duo API server

##### `usage`

Data type: `Enum['login', 'pam']`

Choose whether to setup via PAM or LOGIN

Default value: `'pam'`

##### `group`

Data type: `Optional[String[1]]`

Only enable Duo for selected group

Default value: ``undef``

##### `http_proxy`

Data type: `Optional[String[1]]`

Use specified HTTP proxy for outbound requests to the Duo API server

Default value: ``undef``

##### `send_gecos`

Data type: `Enum['yes', 'no']`

Send the entire GECOS field as the Duo username

Default value: `'no'`

##### `fallback_local_ip`

Data type: `Enum['yes', 'no']`

Send local server's IP address if Duo cannot detect the user's IP

Default value: `'no'`

##### `failmode`

Data type: `Enum['safe', 'secure']`

On service or config errors, allow ("safe") or deny ("secure") access

Default value: `'safe'`

##### `pushinfo`

Data type: `Enum['yes', 'no']`

Include information such as the command to be executed in the Duo Push message

Default value: `'no'`

##### `autopush`

Data type: `Enum['yes', 'no']`

Automatically send a push login request to the user's phone or failback to other methods

Default value: `'no'`

##### `motd`

Data type: `Enum['yes', 'no']`

Print the contents of /etc/motd to screen after a successful login (only if $usage = login)

Default value: `'no'`

##### `prompts`

Data type: `Integer[1, 3]`

Number of prompts per authentication

Default value: `3`

##### `accept_env_factor`

Data type: `Enum['yes', 'no']`

Look for passcode in $DUO_PASSCODE environment variable

Default value: `'no'`

##### `manage_ssh`

Data type: `Boolean`

Manage SSH packages and config

Default value: ``true``

##### `manage_pam`

Data type: `Boolean`

Manage PAM config using Augeas

Default value: ``true``

##### `manage_repo`

Data type: `Boolean`

Manage package repositories for Duo

Default value: ``true``

##### `pam_unix_control`

Data type: `Enum['sufficient', 'required', 'requisite']`

Use the specified control mechanism for PAM

Default value: `'requisite'`

##### `package_version`

Data type: `Enum['latest', 'present', 'installed']`

Override `ensure` for the Duo Linux package

Default value: `'installed'`

